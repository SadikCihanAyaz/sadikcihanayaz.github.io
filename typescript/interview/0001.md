

ğŸš— Dijkstraâ€™s Algorithm: Shortest Route in a City

Youâ€™re building a feature for Boltâ€™s app to find the shortest route (in minutes) between two locations in a city, given a map of roads. Each road has a travel time.

Write a function that, given a city map (as an adjacency list) and two locations (start and end), returns the shortest travel time. If no route exists, return -1.

Assume:
	â€¢	Each location is a string (like â€˜Aâ€™, â€˜Bâ€™, etc.)
	â€¢	The city map is given as
{ [location: string]: Array<{ to: string, time: number }> }

â¸»

Sample Input

```ts
type CityMap = {
[location: string]: Array<{ to: string; time: number }>;
};

const cityMap: CityMap = {
A: [{ to: â€œBâ€, time: 5 }, { to: â€œCâ€, time: 10 }],
B: [{ to: â€œCâ€, time: 3 }, { to: â€œDâ€, time: 7 }],
C: [{ to: â€œDâ€, time: 1 }],
D: [],
};

// Find shortest time from A to D: A â†’ B â†’ C â†’ D (5 + 3 + 1 = 9)
```

â¸»

Your Task

Write the following function:

Function signature:

```ts
function shortestRoute(cityMap: CityMap, start: string, end: string): number;
```

â¸»

TypeScript Solution

```ts
type CityMap = {
[location: string]: Array<{ to: string; time: number }>;
};

function shortestRoute(cityMap: CityMap, start: string, end: string): number {
// Priority queue: Array of [location, totalTime]
const pq: Array<[string, number]> = [[start, 0]];
// Map to keep the shortest distance to each node
const distances: Record<string, number> = { [start]: 0 };
const visited: Set = new Set();

while (pq.length) {
// Get the node with the smallest totalTime
pq.sort((a, b) => a[1] - b[1]); 
const [current, time] = pq.shift()!;

if (current === end) return time;
if (visited.has(current)) continue;
visited.add(current);

for (const { to, time: t } of cityMap[current] || []) {
  const newTime = time + t;
  if (distances[to] === undefined || newTime < distances[to]) {
    distances[to] = newTime;
    pq.push([to, newTime]);
  }
}

}

// No path found
return -1;
}

// Test Example
const cityMap: CityMap = {
A: [{ to: â€œBâ€, time: 5 }, { to: â€œCâ€, time: 10 }],
B: [{ to: â€œCâ€, time: 3 }, { to: â€œDâ€, time: 7 }],
C: [{ to: â€œDâ€, time: 1 }],
D: [],
};

console.log(shortestRoute(cityMap, â€œAâ€, â€œDâ€)); // Output: 9
console.log(shortestRoute(cityMap, â€œAâ€, â€œCâ€)); // Output: 8 (Aâ†’Bâ†’C)
console.log(shortestRoute(cityMap, â€œBâ€, â€œAâ€)); // Output: -1 (no path)
```

